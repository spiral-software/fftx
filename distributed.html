

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FFTX Distributed 3D FFT Library &mdash; FFTX  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Demo FFTX External Application" href="external.html" />
    <link rel="prev" title="Python Package for FFTX" href="python.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            FFTX
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Where to Get FFTX</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Building / Installing the FFTX Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="apis.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Package for FFTX</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FFTX Distributed 3D FFT Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#scope-of-fftx-distributed-library">Scope of FFTX Distributed Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-first-example">Running the first example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#types-of-ffts">Types of FFTs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#directions">Directions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#batch-size">Batch size</a></li>
<li class="toctree-l2"><a class="reference internal" href="#processor-grid">Processor Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#embedded">Embedded</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mpi-type">MPI Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packing">Packing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="external.html">Demo FFTX External Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="collaborations.html">Collaborations with other projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contributing to FFTX</a></li>
<li class="toctree-l1"><a class="reference internal" href="team.html">FFTX Development Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Further Reading</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FFTX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">FFTX Distributed 3D FFT Library</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/distributed.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fftx-distributed-3d-fft-library">
<h1>FFTX Distributed 3D FFT Library<a class="headerlink" href="#fftx-distributed-3d-fft-library" title="Link to this heading"></a></h1>
<p>FFTX provides a distributed interface for describing and computing 3D FFTs in a distributed setting using MPI.  This guide documents instructions for setting up, and computing with the distributed interface. Furthermore, it also documents the assumptions behind the different versions of distributed FFTs.</p>
<section id="scope-of-fftx-distributed-library">
<h2>Scope of FFTX Distributed Library<a class="headerlink" href="#scope-of-fftx-distributed-library" title="Link to this heading"></a></h2>
<p>The scope of the distributed library is described by 7 different factors, namely:</p>
<ol class="arabic simple">
<li><p>Types of FFTs.  (Real vs Complex)</p></li>
<li><p>Directions.     (Forward vs Backwards)</p></li>
<li><p>Batch size.     (Unit vs Non-unit)</p></li>
<li><p>Processor Grid. (1D vs 2D decomposition)</p></li>
<li><p>Embedded.       (Full FFT vs Embeded in zero-padded cube)</p></li>
<li><p>MPI Type.       (Device-aware vs Host-based)</p></li>
<li><p>Packing.        (Packing performed on host vs device)</p></li>
</ol>
<p>Currently, only double-precision (complex or real) data is supported. Additional details are describe in the appropriate sections.</p>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading"></a></h2>
<p>The design of the FFTX distributed API is similar to many other libraries, i.e. there is a plan, execute and destroy routines. The APIs are as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>//1D processor distribution. The number of processors is given by p, and comm is an MPI communicator, typically MPI_COMM_WORLD.
fftx_plan  plan = fftx_plan_distributed(comm, p, X, Y, Z, batch, embedded, complex);

//2D processor distribution. The p processors are organized into a r x c grid, and comm is an MPI communicator, typically MPI_COMM_WORLD.
fftx_plan  plan = fftx_plan_distributed(comm, r, c, X, Y, Z, batch, embedded, complex);

//device_out_buffers, and device_in_buffers are assumed to be GPU pointers.
fftx_execute(plan, device_out_buffer, device_in_buffer, direction);

//release all resources allocated by the planning functions
fftx_plan_destroy(plan);
</pre></div>
</div>
<p>Only one of the planning function is required. The choice of the planning function depends on how the distributed data is mapped onto the processor grid.</p>
</section>
<section id="running-the-first-example">
<h2>Running the first example<a class="headerlink" href="#running-the-first-example" title="Link to this heading"></a></h2>
<p>After compiling FFTX, a distributed example, test3DDFT_mpi_1D.cpp, will be compiled (if enabled). The file will execute a distributed 3DFFT using a 1D processor grid. The compiled file takes 7 command line arguments as follows: <code class="docutils literal notranslate"><span class="pre">&lt;M&gt;</span> <span class="pre">&lt;N&gt;</span> <span class="pre">&lt;K&gt;</span> <span class="pre">&lt;batch&gt;</span> <span class="pre">&lt;embedded&gt;</span> <span class="pre">&lt;forward&gt;</span> <span class="pre">&lt;complex&gt;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">N</span></code>, <code class="docutils literal notranslate"><span class="pre">K</span></code> represents the 3 dimensions of the 3D FFT.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">batch</span></code> parameter indicates how many 3D-FFTs are performed simultaneously. A minimum value of <code class="docutils literal notranslate"><span class="pre">1</span></code> needs to be passed as the <code class="docutils literal notranslate"><span class="pre">batch</span></code> parameter.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">embedded</span></code> parameter takes values either <code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> means that a full 3DFFT is implemented. A value of <code class="docutils literal notranslate"><span class="pre">1</span></code> indicates that the data cube is embedded in a larger data cube that that is twice the size in all dimension. The padded values are default to 0.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">forward</span></code> parameter indicates if a foward (<code class="docutils literal notranslate"><span class="pre">1</span></code>) or inverse (<code class="docutils literal notranslate"><span class="pre">0</span></code>) FFT is performed.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">complex</span></code> parameter, when set to <code class="docutils literal notranslate"><span class="pre">1</span></code> indicates that the FFT is a complex 3DFFT. However, when the parameter is set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, the 3DFFT is either a real-to-complex FFT (if the <code class="docutils literal notranslate"><span class="pre">forward</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">1</span></code>), or a complex-to-real FFT (otherwise).</p>
<p>Additional details for running the example can be found in the <a class="reference external" href="../examples/3DDFT_mpi/README.md">example directory</a>.</p>
</section>
<section id="types-of-ffts">
<h2>Types of FFTs<a class="headerlink" href="#types-of-ffts" title="Link to this heading"></a></h2>
<p><strong>Options:</strong> Real,  Complex</p>
<p>Currently, the FFTX distributed library supports only real and complex FFTs. Complex FFT means that both inputs and outputs are complex numbers. Real FFTs mean that either the inputs or the outputs are real numbers. The following data layout are assumed for the different types of FFTs.</p>
<ol class="arabic simple">
<li><p>Complex data are assumed to be in interleaved data format. This means that the real and imaginary components of the complex number are stored in consecutive memory location.</p></li>
<li><p>Real data are assumed to be in natural order.</p></li>
</ol>
<p>It should be noted that further factors may impose additional constraints on the input/output data. These additional constraints are described in their respective sub-sections.</p>
</section>
<section id="directions">
<h2>Directions<a class="headerlink" href="#directions" title="Link to this heading"></a></h2>
<p><strong>Options:</strong> FFTX_FORWARD, FFTX_BACKWARD</p>
<p>The Forward FFT computes the discrete Fourier transform (DFT) and takes the origin input from the time/space domain into the frequency domain.
The Backwards FFT, also commonly known as the Inverse FFT, is computation that goes from frequency domain back to time/space domain.</p>
</section>
<section id="batch-size">
<h2>Batch size<a class="headerlink" href="#batch-size" title="Link to this heading"></a></h2>
<p><strong>Options:</strong> Integer values</p>
<p>The batch size describes how many distributed FFT is computed. A minimum value of 1 is required. Values higher than 1 means that multiple distributed FFTs are computed at the same time. These FFTs are assumed to be interleaved. This means that the 1^{st} element of the 1^{st} FFT is followed by the 1^{st} element of the 2^{nd} FFT, and the 2^{nd} element of the 1^{st} FFT is preceded by the 1^{th} element of the last FFT, so forth.</p>
</section>
<section id="processor-grid">
<h2>Processor Grid<a class="headerlink" href="#processor-grid" title="Link to this heading"></a></h2>
<p><strong>Options:</strong> 1D grid, 2D grid</p>
<p>1D grid distribution assumes that all p processors are logically organized into a linear array. The entire 3D FFT is distributed along the Z dimension of the FFT. Using this processor grid, the X dimension of the FFT is assumed to be laid out consecutively in local memory.</p>
<p>2D grid distribtion assumes that all p processors are organized into a square grid of r times c. The entire 3D FFT is distributed along the X and Y dimensions of the FFT, and the Z dimensions are stored consecutively.</p>
</section>
<section id="embedded">
<h2>Embedded<a class="headerlink" href="#embedded" title="Link to this heading"></a></h2>
<p><strong>Options:</strong> Embedded, Not Embedded</p>
<p>The current version of FFTX allows one to embed a data cube into a larger data cube that has been padded with zeros. Each dimension of the padded cube is twice that of the original dimensions. The 3D FFT is performed on the padded data cube. The data is embedded in the center, with equal number of zeros padded on both sides of the data cube. When a dimension of the original data cube is an odd size, the computation is undefined.</p>
</section>
<section id="mpi-type">
<h2>MPI Type<a class="headerlink" href="#mpi-type" title="Link to this heading"></a></h2>
<p><strong>Options:</strong> Device-aware MPI (default), Host-based MPI</p>
<p>Two MPI versions are supported. At compile time, one can choose to compile for device-aware MPI or host-based MPI. The library does not check if the appropriate MPI is installed, and the behavior is undefined if the distributed library is compiled for an inappropriate MPI type.</p>
</section>
<section id="packing">
<h2>Packing<a class="headerlink" href="#packing" title="Link to this heading"></a></h2>
<p><strong>Options:</strong> Host-based packing, Device-based Packing (default)</p>
<p>Packing routines are used to pack/unpack data from the MPI send/receive buffers into data buffers that are used for computation. Within FFTX, there are multiple variants of these packing routines. In general, these packing routines can be divided into host-based packing (i.e. packing on the CPU) or device-based packing (i.e. packing on the GPU). The choice of packing routines is set at compile time. Typically host-based packing are used for debugging/error checking purposes, while device-based packing are designed for performance.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="python.html" class="btn btn-neutral float-left" title="Python Package for FFTX" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="external.html" class="btn btn-neutral float-right" title="Demo FFTX External Application" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, FFTX Team.     Version: 1.3.0;     Documentation generated on June 26, 2025.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>